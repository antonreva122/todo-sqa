{% extends 'base.html' %}
{% block main %}
<div class="task-detail">
  <div class="task-header">
    <h1>{{ task.title }}</h1>
    <span class="task-status {% if task.completed %}completed{% else %}pending{% endif %}">
      {% if task.completed %}âœ“ Completed{% else %}Pending{% endif %}
    </span>
  </div>
  
  <div class="task-meta">
    <small>Created: {{ task.created_at.strftime('%B %d, %Y at %I:%M %p') }}</small>
  </div>
  
  {% if task.description %}
  <div class="task-description">
    <h3>Description</h3>
    <p>{{ task.description }}</p>
  </div>
  {% endif %}

  <div class="task-actions">
    <a href="{{ url_for('edit_task', task_id=task.id) }}" class="btn btn-primary">Edit</a>
    <form method="post" action="{{ url_for('toggle_task_completion', task_id=task.id) }}" class="inline-form">
      {{ toggle_form.hidden_tag() }}
      {% if task.completed %}
        {{ toggle_form.submit(value="Reopen Task", class="btn btn-warning") }}
      {% else %}
        {{ toggle_form.submit(value="Mark Complete", class="btn btn-success") }}
      {% endif %}
    </form>
    <form method="post" action="{{ url_for('delete_task', task_id=task.id) }}" class="inline-form" onsubmit="return confirm('Are you sure you want to delete this task?');">
      {{ delete_form.hidden_tag() }}
      {{ delete_form.submit(value="Delete", class="btn btn-danger") }}
    </form>
  </div>
</div>
{% endblock %}